(window.webpackJsonp=window.webpackJsonp||[]).push([[115],{"1lec":function(e){e.exports=JSON.parse('{"/release-notes/1.14.0":"v1.14.0","/release-notes/1.13.4":"v1.13.4","/release-notes/1.13.3":"v1.13.3","/release-notes/1.13.2":"v1.13.2","/release-notes/1.13.1":"v1.13.1","/release-notes/1.13.0":"v1.13.0","/release-notes/1.12.0":"v1.12.0","/release-notes/1.11.0":"v1.11.0","/release-notes/1.10.0":"v1.10.0","/release-notes/1.9.2":"v1.9.2","/release-notes/1.9.1":"v1.9.1","/release-notes/1.9.0":"v1.9.0","/release-notes/1.8.0":"v1.8.0","/release-notes/1.7.2":"v1.7.2","/release-notes/1.7.1":"v1.7.1","/release-notes/1.7.0":"v1.7.0"}')},"2+3N":function(e){e.exports=JSON.parse('{"/news/20211029-newsletter-3":"Armeria Newsletter vol. 3","/news/20210202-newsletter-2":"Armeria Newsletter vol. 2","/news/20200703-newsletter-1":"Armeria Newsletter vol. 1","/news/20200514-newsletter-0":"Armeria Newsletter vol. 0"}')},"6TsJ":function(e,a,t){"use strict";t.r(a),t.d(a,"_frontmatter",(function(){return c})),t.d(a,"default",(function(){return b}));var r=t("zLVn"),i=(t("q1tI"),t("7ljp")),n=t("JkCF"),c={},o=function(e){return function(a){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(i.b)("div",a)}},p=o("Tip"),s=o("ThankYou"),l={_frontmatter:c},m=n.a;function b(e){var a=e.components,t=Object(r.a)(e,["components"]);return Object(i.b)(m,Object.assign({},l,t,{components:a,mdxType:"MDXLayout"}),Object(i.b)("p",{className:"date"},"27th January 2022"),Object(i.b)("h2",{id:"-new-features",style:{position:"relative"}},Object(i.b)("a",{parentName:"h2",href:"#-new-features","aria-label":" new features permalink",className:"anchor before"},Object(i.b)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"🌟 New features"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now use ",Object(i.b)("a",{parentName:"p",href:"https://dotty.epfl.ch/"},"Scala 3")," for ",Object(i.b)("inlineCode",{parentName:"p"},"armeria-scala")," and ",Object(i.b)("inlineCode",{parentName:"p"},"armeria-scalapb"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3614"},"#3614")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/4036"},"#4036")),Object(i.b)(p,{mdxType:"Tip"},Object(i.b)("p",{parentName:"li"},"Scala 3 modules are currently experimental. We're looking forward to your feedback."))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now fluently convert an ",Object(i.b)("a",{parentName:"p",href:"type://HttpResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html"},"type://HttpResponse")," into a desired type using ",Object(i.b)("a",{parentName:"p",href:"type://WebClient:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/WebClient.html"},"type://WebClient"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/4021"},"#4021")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},'WebClient client = WebClient.of("https://api.example.com");\nCompletableFuture<ResponseEntity<MyObject>> response =\n  client.prepare()\n        .get("/v1/items/1")\n        .asJson(MyObject.class)\n        .execute();\n'))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now use ",Object(i.b)("a",{parentName:"p",href:"type://BlockingWebClient:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/BlockingWebClient.html"},"type://BlockingWebClient")," to wait for an ",Object(i.b)("a",{parentName:"p",href:"type://HttpResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html"},"type://HttpResponse")," to be completed. ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/4021"},"#4021")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},'BlockingWebClient client = BlockingWebClient.of("https://api.example.com");\nResponseEntity<MyObject> response =\n  client.prepare()\n        .get("/v1/items/1")\n        .asJson(MyObject.class)\n        .execute();\n')),Object(i.b)(p,{mdxType:"Tip"},Object(i.b)("p",{parentName:"li"},"Note that you should never use this client in an ",Object(i.b)("inlineCode",{parentName:"p"},"EventLoop")," thread.\nUse it from a non-",Object(i.b)("inlineCode",{parentName:"p"},"EventLoop")," thread such as ",Object(i.b)("a",{parentName:"p",href:"type://BlockingTaskExecutor:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/util/BlockingTaskExecutor.html"},"type://BlockingTaskExecutor"),"."))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now fluently build a gRPC client with various options using\n",Object(i.b)("a",{parentName:"p",href:"type://GrpcClientBuilder:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/grpc/GrpcClientBuilder.html"},"type://GrpcClientBuilder"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3981"},"#3981")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3999"},"#3999")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3964"},"#3964")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3975"},"#3975")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},"GrpcClients\n  .builder(...)\n  .decorator(myDecorators)\n  .maxResponseMessageLength(MAX_MESSAGE_SIZE)\n  .jsonMarshallerFactory(descriptor -> {\n    ...\n  })\n  .intercept(myInterceptors)\n  .build(MyStub.class);\n"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now fluently build an ",Object(i.b)("a",{parentName:"p",href:"type://HttpResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html"},"type://HttpResponse")," by using ",Object(i.b)("a",{parentName:"p",href:"type://HttpResponseBuilder:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponseBuilder.html"},"type://HttpResponseBuilder"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3398"},"#3398")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3941"},"#3941")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},'HttpResponse\n  .builder()\n  .ok()\n  .header(HttpHeaderNames.USER_AGENT, "Armeria")\n  .content(content)\n  .build(); \n'))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now use ",Object(i.b)("a",{parentName:"p",href:"type://StreamMessage#mapAsync(Function):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/stream/StreamMessage.html#mapAsync(java.util.function.Function)"},"type://StreamMessage#mapAsync(Function)")," to transform a ",Object(i.b)("a",{parentName:"p",href:"type://StreamMessage:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/stream/StreamMessage.html"},"type://StreamMessage"),"\nusing an async operation. ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3916"},"#3916")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3962"},"#3962")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},"StreamMessage<Integer> userIds = StreamMessage.of(...);\nStreamMessage<UserInfo> userInfos = userIds.mapAsync(this::getUserInfo);\n\nCompletableFuture<UserInfo> getUserInfo(int userId) {\n  ...\n}\n"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now use ",Object(i.b)("a",{parentName:"p",href:"type://HttpResponse#peekHeaders(Consumer):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html#peekHeaders(java.util.function.Consumer)"},"type://HttpResponse#peekHeaders(Consumer)"),", ",Object(i.b)("a",{parentName:"p",href:"type://HttpMessage#peekData(Consumer):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpMessage.html#peekData(java.util.function.Consumer)"},"type://HttpMessage#peekData(Consumer)"),",\n",Object(i.b)("a",{parentName:"p",href:"type://HttpMessage#peekTrailers(Consumer):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpMessage.html#peekTrailers(java.util.function.Consumer)"},"type://HttpMessage#peekTrailers(Consumer)")," and ",Object(i.b)("a",{parentName:"p",href:"type://StreamMessage#peekError(Consumer):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/stream/StreamMessage.html#peekError(java.util.function.Consumer)"},"type://StreamMessage#peekError(Consumer)")," operators on\n",Object(i.b)("a",{parentName:"p",href:"type://HttpRequest:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpRequest.html"},"type://HttpRequest")," and ",Object(i.b)("a",{parentName:"p",href:"type://HttpResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html"},"type://HttpResponse"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3097"},"#3097")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3988"},"#3988")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3949"},"#3949")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},'HttpRequest request =\n  HttpRequest.of(RequestHeaders.of(HttpMethod.POST, "/items"),\n                 HttpData.ofUtf8("data1,data2"))\n                 HttpHeaders.of("trailer", "foo"));\nHttpRequest peeked =\n  request.peekData(data -> {\n    assert data.toStringUtf8().equals("data1,data2");\n  }).peekTrailers(trailers -> {\n    assert trailers.get("trailer").equals("foo");\n  });\n\nHttpRequest failed = \n  HttpRequest.ofFailure(new IllegalStateException("Something went wrong."));\nHttpRequest peeked = failed.peekError(cause -> {\n  assert cause instanceof IllegalStateException;\n});\n'))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now generate an error response differently in ",Object(i.b)("a",{parentName:"p",href:"type://ServerErrorHandler:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServerErrorHandler.html"},"type://ServerErrorHandler")," depending\non the ",Object(i.b)("a",{parentName:"p",href:"type://RequestHeaders:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestHeaders.html"},"type://RequestHeaders"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/4037"},"#4037"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now use ",Object(i.b)("inlineCode",{parentName:"p"},"{*var}")," and ",Object(i.b)("inlineCode",{parentName:"p"},":*var")," path patterns to capture rest paths of a request. ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3031"},"#3031")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3997"},"#3997")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},'Server\n  .builder()\n  .service("/api/{item}/route/{*contents}", (ctx, req) -> {\n    // If a request path is "/api/123/route/foo/bar/baz",\n    // \'*contents\' should be foo/bar/baz\n    assert ctx.pathParam("contents").equals("foo/bar/baz");\n  });\n'))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now use ",Object(i.b)("a",{parentName:"p",href:"type://ServiceRequestContext#queryParams(String):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServiceRequestContext.html#queryParams(java.lang.String)"},"type://ServiceRequestContext#queryParams(String)")," to get the decoded query\nparameters. ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3955"},"#3955")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3960"},"#3960"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now send query parameters using ",Object(i.b)("a",{parentName:"p",href:"type://QueryParams:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/QueryParams.html"},"type://QueryParams")," with ",Object(i.b)("a",{parentName:"p",href:"type://WebClient:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/WebClient.html"},"type://WebClient"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3915"},"#3915")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3921"},"#3921")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},'QueryParams params = QueryParams.of("foo", "bar");\nWebClient client = ...;\n// Sends \'GET /api/items/1?foo=bar\'\nclient.get("/api/items/1", params);\n// Sends \'POST /api/items?foo=bar\' with body \'...\'\nclient.post("/api/items", params, content);\n'))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now write a ",Object(i.b)("inlineCode",{parentName:"p"},"StreamMessage<HttpData>")," into a file using\n",Object(i.b)("a",{parentName:"p",href:"type://StreamMessages#writeTo(StreamMessage,Path,):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/stream/StreamMessages.html#writeTo(com.linecorp.armeria.common.stream.StreamMessage,java.nio.file.Path,java.nio.file.OpenOption...)"},"type://StreamMessages#writeTo(StreamMessage,Path,)"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3870"},"#3870")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3874"},"#3874")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},"StreamMessage<HttpData> stream = ...;\nPath destination = ...;\nStreamMessages.writeTo(stream, destination);\n"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now force a state transition of a ",Object(i.b)("a",{parentName:"p",href:"type://CircuitBreaker:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/circuitbreaker/CircuitBreaker.html"},"type://CircuitBreaker"),"\nby using ",Object(i.b)("a",{parentName:"p",href:"type://CircuitBreaker#enterState(CircuitState):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/circuitbreaker/CircuitBreaker.html#enterState(com.linecorp.armeria.client.circuitbreaker.CircuitState)"},"type://CircuitBreaker#enterState(CircuitState)"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/4010"},"#4010")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/4022"},"#4022")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},"CircuitBreaker circuitBreaker = CircuitBreaker.of(...);\ncircuitBreaker.enterState(CircuitState.FORCED_OPEN);\n"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now conveniently create a ",Object(i.b)("a",{parentName:"p",href:"type://RetryRule:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/retry/RetryRule.html"},"type://RetryRule")," and ",Object(i.b)("a",{parentName:"p",href:"type://RetryRuleWithContent:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/retry/RetryRuleWithContent.html"},"type://RetryRuleWithContent")," by specifying\na ",Object(i.b)("a",{parentName:"p",href:"type://Backoff:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/retry/Backoff.html"},"type://Backoff"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3875"},"#3875")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/2899"},"#2899")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3895"},"#3895")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},"RetryRule.failsafe(Backoff.fixed(1000));\nRetryRuleWithContent.onException(Backoff.fixed(2000));\n"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now dynamically change the maximum number of concurrent active requests of\na ",Object(i.b)("a",{parentName:"p",href:"type://ConcurrencyLimitingClient:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/limit/ConcurrencyLimitingClient.html"},"type://ConcurrencyLimitingClient"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3842"},"#3842")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3985"},"#3985")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},"ConcurrencyLimitingClient.newDecorator(new DynamicLimit());\n\nclass DynamicLimit implements IntSupplier {\n  @Override\n  public int getAsInt() {\n    // Dynamically returns the current limitation.\n    ...\n  }\n}\n"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now split an ",Object(i.b)("a",{parentName:"p",href:"type://HttpRequest:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpRequest.html"},"type://HttpRequest")," into ",Object(i.b)("a",{parentName:"p",href:"type://RequestHeaders:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestHeaders.html"},"type://RequestHeaders"),", ",Object(i.b)("inlineCode",{parentName:"p"},"StreamMessage<HttpData>"),"\nand trailers using ",Object(i.b)("a",{parentName:"p",href:"type://HttpRequest#split():https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpRequest.html#split()"},"type://HttpRequest#split()"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3924"},"#3924")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3953"},"#3953")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},"HttpRequest request = HttpRequest.of(...);\nSplitHttpRequest splitRequest = request.split();\n\nRequestHeaders headers = splitRequest.headers();\nStreamMessage<HttpData> body = splitRequest.body();\nCompletableFuture<HttpHeaders> trailers = splitRequest.trailers();\n"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Added more well-known MIME type constants to ",Object(i.b)("a",{parentName:"p",href:"type://MediaType:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/MediaType.html"},"type://MediaType"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/4040"},"#4040"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now customize the ",Object(i.b)("a",{parentName:"p",href:"type://MediaType:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/MediaType.html"},"type://MediaType")," of a file when using ",Object(i.b)("a",{parentName:"p",href:"type://FileService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/file/FileService.html"},"type://FileService"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/4001"},"#4001")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/4009"},"#4009")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},'FileService\n  .builder(resource)\n  .mediaTypeResolver((path, contentEncoding) -> {\n    if (path.endsWith(".proto")) {\n      return MediaType.PROTOBUF;\n    }\n    if (path.endsWith(".csv")) {\n      return MediaType.CSV_UTF_8;\n    }\n    // Pass to the default resolver.\n    return null;\n  })\n  .build();\n'))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now send requests to a test server by using ",Object(i.b)("a",{parentName:"p",href:"type://ServerExtension#webClient():https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/testing/junit5/server/ServerExtension.html#webClient()"},"type://ServerExtension#webClient()"),"\nor ",Object(i.b)("a",{parentName:"p",href:"type://ServerRule#webClient():https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/testing/junit4/server/ServerRule.html#webClient()"},"type://ServerRule#webClient()"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3761"},"#3761")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3890"},"#3890")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},' @RegisterExtension\n static ServerExtension server = new ServerExtension() {\n   @Override\n   protected void configure(ServerBuilder sb) {\n     ...\n   }\n };\n\n @Test\n void test() {\n   WebClient client = server.webClient(cb -> {  // 👈👈👈\n     cb.decorator(LoggingClient.newDecorator());\n   });\n   client.get("/foo").aggregate().join();\n }\n'))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now export metrics as ",Object(i.b)("a",{parentName:"p",href:"https://github.com/OpenObservability/OpenMetrics/blob/main/specification/OpenMetrics.md"},"OpenMetrics"),"\nformat using ",Object(i.b)("a",{parentName:"p",href:"type://PrometheusExpositionService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/metric/PrometheusExpositionService.html"},"type://PrometheusExpositionService"),". ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3926"},"#3926")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3928"},"#3928"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now use ",Object(i.b)("a",{parentName:"p",href:"type://UnframedGrpcStatusMappingFunction:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/grpc/UnframedGrpcStatusMappingFunction.html"},"type://UnframedGrpcStatusMappingFunction")," to customize how a gRPC status is mapped to\nan ",Object(i.b)("a",{parentName:"p",href:"type://HttpStatus:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpStatus.html"},"type://HttpStatus")," when using an unframed gRPC service. ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3683"},"#3683")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3948"},"#3948")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-java"},"UnframedGrpcStatusMappingFunction mappingFunction = \n  (ctx, grpcStatus, cause) -> {\n    if (grpcStatus.getCode() == DEADLINE_EXCEEDED) {\n      return INTERNAL_SERVER_ERROR;\n    }\n    // Pass to the default mapping function.\n    return null;\n  };\n\nUnframedGrpcErrorHandler errorHandler = \n  UnframedGrpcErrorHandler.ofJson(mappingFunction);\n\nGrpcService\n  .builder()\n  .unframedGrpcErrorHandler(errorHandler);\n"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"You can now expose ",Object(i.b)("inlineCode",{parentName:"p"},"WebOperation"),"s of Actuator to a port of internal services. ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3919"},"#3919")," ",Object(i.b)("a",{parentName:"p",href:"https://github.com/line/armeria/issues/3946"},"#3946")),Object(i.b)("pre",{parentName:"li"},Object(i.b)("code",{parentName:"pre",className:"language-yaml"},"armeria:\n  ...\n  internal-services:\n    # Actuator will be exposed to 18080 port.\n    include: actuator, health \n    port: 18080\n"))),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Added ",Object(i.b)("a",{parentName:"p",href:"type://JettyServiceBuilder#tlsReverseDnsLookup(boolean):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/jetty/JettyServiceBuilder.html#tlsReverseDnsLookup(boolean)"},"type://JettyServiceBuilder#tlsReverseDnsLookup(boolean)")," that makes ",Object(i.b)("a",{parentName:"p",href:"type://JettyService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/jetty/JettyService.html"},"type://JettyService"),"\nperform a reverse DNS lookup for each TLS connection, which may be useful for\nservlets that assume ",Object(i.b)("inlineCode",{parentName:"p"},"ServletRequest.getRemoteHost()")," will return a remote host name\nrather than a remote IP address.")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Added ",Object(i.b)("a",{parentName:"p",href:"type://JettyServiceBuilder#httpConfiguration(HttpConfiguration):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/jetty/JettyServiceBuilder.html#httpConfiguration(org.eclipse.jetty.server.HttpConfiguration)"},"type://JettyServiceBuilder#httpConfiguration(HttpConfiguration)")," that allows a user to set\nJetty ",Object(i.b)("inlineCode",{parentName:"p"},"HttpConfiguration")," in a type-safe manner."))),Object(i.b)("h2",{id:"-improvements",style:{position:"relative"}},Object(i.b)("a",{parentName:"h2",href:"#-improvements","aria-label":" improvements permalink",className:"anchor before"},Object(i.b)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"📈 Improvements"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"You can now distinguish services, messages and enums with the same name by their package names from\n",Object(i.b)("a",{parentName:"li",href:"type://DocService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/docs/DocService.html"},"type://DocService")," UI. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3979"},"#3979")),Object(i.b)("li",{parentName:"ul"},"Improved the memory footprint of ",Object(i.b)("a",{parentName:"li",href:"type://PrometheusExpositionService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/metric/PrometheusExpositionService.html"},"type://PrometheusExpositionService")," by removing large byte array\nallocations. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3929"},"#3929")),Object(i.b)("li",{parentName:"ul"},"Meters created by ",Object(i.b)("a",{parentName:"li",href:"type://MoreMeters:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/metric/MoreMeters.html"},"type://MoreMeters")," are now using more accurate percentiles. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/4047"},"#4047"))),Object(i.b)("h2",{id:"️-bug-fixes",style:{position:"relative"}},Object(i.b)("a",{parentName:"h2",href:"#%EF%B8%8F-bug-fixes","aria-label":"️ bug fixes permalink",className:"anchor before"},Object(i.b)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"🛠️ Bug fixes"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"You no longer see ",Object(i.b)("inlineCode",{parentName:"li"},"ClassCastException")," when duplicating an ",Object(i.b)("a",{parentName:"li",href:"type://HttpRequest:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpRequest.html"},"type://HttpRequest")," or\nan ",Object(i.b)("a",{parentName:"li",href:"type://HttpResponse:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpResponse.html"},"type://HttpResponse"),". ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/4030"},"#4030")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/4032"},"#4032")),Object(i.b)("li",{parentName:"ul"},"You no longer see ",Object(i.b)("inlineCode",{parentName:"li"},"IllegalArgumentException")," if an upper-bounded wildcard type with ",Object(i.b)("a",{parentName:"li",href:"type://@Param:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/annotation/Param.html"},"type://@Param"),"\nis used in annotated services. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/4007"},"#4007")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/4008"},"#4008")),Object(i.b)("li",{parentName:"ul"},"You can now properly get ",Object(i.b)("inlineCode",{parentName:"li"},"SameSite")," attribute from ",Object(i.b)("a",{parentName:"li",href:"type://Cookie#sameSite():https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/Cookie.html#sameSite()"},"type://Cookie#sameSite()"),". ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3968"},"#3968")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3984"},"#3984")),Object(i.b)("li",{parentName:"ul"},"You no longer see an ",Object(i.b)("a",{parentName:"li",href:"type://EmptyEndpointGroupException:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/endpoint/EmptyEndpointGroupException.html"},"type://EmptyEndpointGroupException")," when an ",Object(i.b)("a",{parentName:"li",href:"type://EndpointGroup:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/endpoint/EndpointGroup.html"},"type://EndpointGroup")," is successfully\nresolved with the initial ",Object(i.b)("a",{parentName:"li",href:"typeplural://Endpoint:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/Endpoint.html"},"typeplural://Endpoint"),". ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3978"},"#3978")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"type://HttpRequestBuilder#header(CharSequence,Object):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/HttpRequestBuilder.html#header(java.lang.CharSequence,java.lang.Object)"},"type://HttpRequestBuilder#header(CharSequence,Object)")," does not overwrite an old header value\nanymore. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3932"},"#3932")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3941"},"#3941"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"A new header value will be appended to the old value."))),Object(i.b)("li",{parentName:"ul"},"You no longer see ",Object(i.b)("inlineCode",{parentName:"li"},"413 Request Entity Too Large")," when a server receives a cleartext (h2c) upgrade request\nlarger than 16384 bytes. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3859"},"#3859")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3913"},"#3913"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"The maximum allowed length of an upgrade request will respect ",Object(i.b)("a",{parentName:"li",href:"type://ServerBuilder#maxRequestLength(long):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServerBuilder.html#maxRequestLength(long)"},"type://ServerBuilder#maxRequestLength(long)"),"\nor ",Object(i.b)("a",{parentName:"li",href:"type://VirtualHost#maxRequestLength():https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/VirtualHost.html#maxRequestLength()"},"type://VirtualHost#maxRequestLength()"),"."))),Object(i.b)("li",{parentName:"ul"},"Fixed ",Object(i.b)("a",{parentName:"li",href:"type://Multipart:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/multipart/Multipart.html"},"type://Multipart")," decoder to correctly publish chunks one by one when streaming\na large ",Object(i.b)("a",{parentName:"li",href:"type://BodyPart:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/multipart/BodyPart.html"},"type://BodyPart"),". ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3774"},"#3774")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3783"},"#3783")),Object(i.b)("li",{parentName:"ul"},"You can now use ",Object(i.b)("inlineCode",{parentName:"li"},"google.protobuf.{Struct, Value, ListValue, Any}")," messages from your ",Object(i.b)("inlineCode",{parentName:"li"},"proto")," files when\nusing gRPC-JSON transcoder. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3986"},"#3986")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3992"},"#3992")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"type://GrpcService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/grpc/GrpcService.html"},"type://GrpcService")," now automatically disables gRPC-JSON serialization for Protobuf 2 services\nrather than throwing an exception. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/4020"},"#4020")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/4033"},"#4033")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"type://FileService:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/file/FileService.html"},"type://FileService")," now keeps query parameters when redirecting to a directory. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/4049"},"#4049")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/4050"},"#4050")),Object(i.b)("li",{parentName:"ul"},"You no longer see ",Object(i.b)("inlineCode",{parentName:"li"},"InvocationTargetException")," with a Kotlin method whose return type is ",Object(i.b)("inlineCode",{parentName:"li"},"Nothing"),"\nin an annotated service. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3961"},"#3961")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/4005"},"#4005")),Object(i.b)("li",{parentName:"ul"},"Actuator now correctly shows ",Object(i.b)("inlineCode",{parentName:"li"},"Liveness")," and ",Object(i.b)("inlineCode",{parentName:"li"},"Readiness")," of a Kubernetes instance. ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3031"},"#3031")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3997"},"#3997"))),Object(i.b)("h2",{id:"️-deprecations",style:{position:"relative"}},Object(i.b)("a",{parentName:"h2",href:"#%EF%B8%8F-deprecations","aria-label":"️ deprecations permalink",className:"anchor before"},Object(i.b)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"🏚️ Deprecations"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"type://CircuitBreaker#canRequest():https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/circuitbreaker/CircuitBreaker.html#canRequest()"},"type://CircuitBreaker#canRequest()")," has been deprecated in favor of\n",Object(i.b)("a",{parentName:"li",href:"type://CircuitBreaker#tryRequest():https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/client/circuitbreaker/CircuitBreaker.html#tryRequest()"},"type://CircuitBreaker#tryRequest()"),". ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/4012"},"#4012")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"type://Cookie#builder(String,String):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/Cookie.html#builder(java.lang.String,java.lang.String)"},"type://Cookie#builder(String,String)")," and ",Object(i.b)("a",{parentName:"li",href:"type://Cookie#of(String,String):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/Cookie.html#of(java.lang.String,java.lang.String)"},"type://Cookie#of(String,String)")," have been deprecated in favor of\n",Object(i.b)("a",{parentName:"li",href:"type://Cookie#secureBuilder(String,String):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/Cookie.html#secureBuilder(java.lang.String,java.lang.String)"},"type://Cookie#secureBuilder(String,String)")," and ",Object(i.b)("a",{parentName:"li",href:"type://Cookie#ofSecure(String,String):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/Cookie.html#ofSecure(java.lang.String,java.lang.String)"},"type://Cookie#ofSecure(String,String)"),". ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3788"},"#3788")," ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3939"},"#3939")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"type://GrpcServiceBuilder#setMaxInboundMessageSizeBytes(int):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/grpc/GrpcServiceBuilder.html#setMaxInboundMessageSizeBytes(int)"},"type://GrpcServiceBuilder#setMaxInboundMessageSizeBytes(int)")," and ",Object(i.b)("a",{parentName:"li",href:"type://GrpcServiceBuilder#setMaxOutboundMessageSizeBytes(int):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/grpc/GrpcServiceBuilder.html#setMaxOutboundMessageSizeBytes(int)"},"type://GrpcServiceBuilder#setMaxOutboundMessageSizeBytes(int)"),"\nhave been deprecated in favor of ",Object(i.b)("a",{parentName:"li",href:"type://GrpcServiceBuilder#maxRequestMessageLength(int):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/grpc/GrpcServiceBuilder.html#maxRequestMessageLength(int)"},"type://GrpcServiceBuilder#maxRequestMessageLength(int)")," and\n",Object(i.b)("a",{parentName:"li",href:"type://GrpcServiceBuilder#maxResponseMessageLength(int):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/grpc/GrpcServiceBuilder.html#maxResponseMessageLength(int)"},"type://GrpcServiceBuilder#maxResponseMessageLength(int)"),". ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/3999"},"#3999")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"type://AbstractBlockingHttpVfs#get(Executor,String,Clock,String,HttpHeaders):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/file/AbstractBlockingHttpVfs.html#get(java.util.concurrent.Executor,java.lang.String,java.time.Clock,java.lang.String,com.linecorp.armeria.common.HttpHeaders)?full"},"type://AbstractBlockingHttpVfs#get(Executor,String,Clock,String,HttpHeaders)?full")," has been deprecated in favor of\n",Object(i.b)("a",{parentName:"li",href:"type://AbstractBlockingHttpVfs#get(Executor,String,Clock,String,HttpHeaders,MediaTypeResolver):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/file/AbstractBlockingHttpVfs.html#get(java.util.concurrent.Executor,java.lang.String,java.time.Clock,java.lang.String,com.linecorp.armeria.common.HttpHeaders,com.linecorp.armeria.server.file.MediaTypeResolver)?full"},"type://AbstractBlockingHttpVfs#get(Executor,String,Clock,String,HttpHeaders,MediaTypeResolver)?full")," . ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/4009"},"#4009")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"type://HttpVfs#get(Executor,String,Clock,String,HttpHeaders):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/file/HttpVfs.html#get(java.util.concurrent.Executor,java.lang.String,java.time.Clock,java.lang.String,com.linecorp.armeria.common.HttpHeaders)?full"},"type://HttpVfs#get(Executor,String,Clock,String,HttpHeaders)?full")," has been deprecated in favor of\n",Object(i.b)("a",{parentName:"li",href:"type://HttpVfs#get(Executor,String,Clock,String,HttpHeaders,MediaTypeResolver):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/file/HttpVfs.html#get(java.util.concurrent.Executor,java.lang.String,java.time.Clock,java.lang.String,com.linecorp.armeria.common.HttpHeaders,com.linecorp.armeria.server.file.MediaTypeResolver)?full"},"type://HttpVfs#get(Executor,String,Clock,String,HttpHeaders,MediaTypeResolver)?full"),". ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/4009"},"#4009"))),Object(i.b)("h2",{id:"️-breaking-changes",style:{position:"relative"}},Object(i.b)("a",{parentName:"h2",href:"#%EF%B8%8F-breaking-changes","aria-label":"️ breaking changes permalink",className:"anchor before"},Object(i.b)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"☢️ Breaking changes"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"type://HealthChecker#of(Supplier,Duration):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/healthcheck/HealthChecker.html#of(java.util.function.Supplier,java.time.Duration)?full"},"type://HealthChecker#of(Supplier,Duration)?full")," and\n",Object(i.b)("a",{parentName:"li",href:"type://HealthChecker#of(Supplier,Duration,EventExecutor):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/healthcheck/HealthChecker.html#of(java.util.function.Supplier,java.time.Duration,io.netty.util.concurrent.EventExecutor)?full"},"type://HealthChecker#of(Supplier,Duration,EventExecutor)?full")," now returns\n",Object(i.b)("a",{parentName:"li",href:"type://ListenableHealthChecker:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/healthcheck/ListenableHealthChecker.html"},"type://ListenableHealthChecker")," instead of ",Object(i.b)("a",{parentName:"li",href:"type://HealthChecker:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/healthcheck/HealthChecker.html"},"type://HealthChecker"),". ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/4017"},"#4017")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"type://ServerErrorHandler#renderStatus(ServiceConfig,RequestHeaders,HttpStatus,String,Throwable):https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/server/ServerErrorHandler.html#renderStatus(com.linecorp.armeria.server.ServiceConfig,com.linecorp.armeria.common.RequestHeaders,com.linecorp.armeria.common.HttpStatus,java.lang.String,java.lang.Throwable)"},"type://ServerErrorHandler#renderStatus(ServiceConfig,RequestHeaders,HttpStatus,String,Throwable)")," now\nrequires an additional parameter ",Object(i.b)("a",{parentName:"li",href:"type://RequestHeaders:https://javadoc.io/doc/com.linecorp.armeria/armeria-javadoc/latest/com/linecorp/armeria/common/RequestHeaders.html"},"type://RequestHeaders"),". ",Object(i.b)("a",{parentName:"li",href:"https://github.com/line/armeria/issues/4037"},"#4037"),Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"This allows a user to generate a different error response depending on the request header value.")))),Object(i.b)("h2",{id:"-dependencies",style:{position:"relative"}},Object(i.b)("a",{parentName:"h2",href:"#-dependencies","aria-label":" dependencies permalink",className:"anchor before"},Object(i.b)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"⛓ Dependencies"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Brave 5.13.3 → 5.13.7"),Object(i.b)("li",{parentName:"ul"},"Bouncy Castle 1.69 → 1.70"),Object(i.b)("li",{parentName:"ul"},"Bucket4J 6.3.0 → 7.0.0"),Object(i.b)("li",{parentName:"ul"},"Caffeine 2.9.2 → 2.9.3"),Object(i.b)("li",{parentName:"ul"},"Dropwizard 2.0.25 → 2.0.28"),Object(i.b)("li",{parentName:"ul"},"Dropwizard Metrics 4.2.4 → 4.2.7"),Object(i.b)("li",{parentName:"ul"},"gRPC Java 1.41.1 → 1.43.2"),Object(i.b)("li",{parentName:"ul"},"gRPC Kotlin 1.1.0 → 1.2.1"),Object(i.b)("li",{parentName:"ul"},"Jackson 2.13.0 → 2.13.1"),Object(i.b)("li",{parentName:"ul"},"java-jwt 3.18.2 → 3.18.3"),Object(i.b)("li",{parentName:"ul"},"SLF4J 1.7.32 → 1.7.34"),Object(i.b)("li",{parentName:"ul"},"jboss-logging 3.4.2 → 3.4.3"),Object(i.b)("li",{parentName:"ul"},"Kafka 3.0.0 → 3.1.0"),Object(i.b)("li",{parentName:"ul"},"Kotlin 1.5.32 → 1.6.10"),Object(i.b)("li",{parentName:"ul"},"Logback 1.2.7 → 1.2.10"),Object(i.b)("li",{parentName:"ul"},"Micrometer 1.7.6 → 1.8.2"),Object(i.b)("li",{parentName:"ul"},"Netty 4.1.70 → 4.1.73",Object(i.b)("ul",{parentName:"li"},Object(i.b)("li",{parentName:"ul"},"io_uring 0.0.1 → 0.0.11"))),Object(i.b)("li",{parentName:"ul"},"Prometheus 0.12.0 → 0.14.1"),Object(i.b)("li",{parentName:"ul"},"protobuf-jackson 1.2.0 → 2.0.0"),Object(i.b)("li",{parentName:"ul"},"protobuf-java 3.17.3 → 3.19.2"),Object(i.b)("li",{parentName:"ul"},"Reactor 3.4.12 → 3.4.14"),Object(i.b)("li",{parentName:"ul"},"RESTEasy 4.7.3 → 5.0.2"),Object(i.b)("li",{parentName:"ul"},"Scala 2.13.7 → 2.13.8, ⓧ → 3.1.1"),Object(i.b)("li",{parentName:"ul"},"scala-collection-compat 2.5.0 → 2.6.0"),Object(i.b)("li",{parentName:"ul"},"ScalaPB 0.11.6 → 0.11.8"),Object(i.b)("li",{parentName:"ul"},"Spring 5.3.13 → 5.3.15"),Object(i.b)("li",{parentName:"ul"},"Spring Boot 2.5.7 → 2.6.3"),Object(i.b)("li",{parentName:"ul"},"Tomcat 9.0.55 → 9.0.56")),Object(i.b)("h2",{id:"-thank-you",style:{position:"relative"}},Object(i.b)("a",{parentName:"h2",href:"#-thank-you","aria-label":" thank you permalink",className:"anchor before"},Object(i.b)("svg",{parentName:"a","aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},Object(i.b)("path",{parentName:"svg",fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),"🙇 Thank you"),Object(i.b)(s,{usernames:["AmosDoan","AngerM","LiYing2010","anuraaga","arhont375","chris-ryan-square","di-seo","freevie","ghkim3221","gurudatta-carbon","heowc","hyangtack","icepeppermint","ikhoon","injae-kim","jrhee17","jupiny","KarboniteKream","klurpicolo","kojilin","ks-yim","lan17","minwoox","nvidyala","policeman-kh","sleeplesslord","ta7uw","tobias-","trustin","wasifaleem","woohhan"],mdxType:"ThankYou"}))}b.isMDXComponent=!0},JkCF:function(e,a,t){"use strict";t("tU7J");var r=t("wFql"),i=t("q1tI"),n=t.n(i),c=t("2+3N"),o=t("1lec"),p=t("+ejy"),s=t("+9zj"),l=r.a.Title;a.a=function(e){var a={},t={},r={root:{"Latest news items":"/news","Latest release notes":"/release-notes","Past news items":"/news/list","Past release notes":"/release-notes/list"},"Recent news items":a,"Recent releases":t};Object.entries(c).forEach((function(e){var t=e[0],r=e[1];a[r]=t})),Object.entries(o).forEach((function(e){var a=e[0],r=e[1];t[r]=a}));var i=Object(s.a)(e.location),m=e.version||i.substring(i.lastIndexOf("/")+1);return m.match(/^[0-9]/)||(m=void 0),n.a.createElement(p.a,Object.assign({},e,{candidateMdxNodes:[],index:r,prefix:"release-notes",pageTitle:m?m+" release notes":e.pageTitle,pageTitleSuffix:"Armeria release notes"}),m?n.a.createElement(l,{id:"release-notes",level:1},n.a.createElement("a",{href:"#release-notes","aria-label":"release notes permalink",className:"anchor before"},n.a.createElement("svg",{"aria-hidden":"true",focusable:"false",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"},n.a.createElement("path",{fillRule:"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}))),m," release notes"):"",e.children)}}}]);
//# sourceMappingURL=component---src-pages-release-notes-1-14-0-mdx-44ed02b38d8ad2c38737.js.map